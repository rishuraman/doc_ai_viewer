{% extends "base.html" %}

{% block content %}
<section class="card card-records">
    <div class="card-header">
        <h2>Stored Documents</h2>
        <span class="pill pill-soft">
            {{ rows|length }} record{{ rows|length != 1 and 's' or '' }}
        </span>
    </div>

    {% if rows %}
        <div class="table-wrapper">
            <table class="field-table records-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Type</th>
                        <th>Name / Employee</th>
                        <th>Key ID</th>
                        <th>Created At</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in rows %}
                    <tr>
                        <td>#{{ row['id'] }}</td>
                        <td><span class="tag">{{ row['doc_type'] }}</span></td>
                        <td>
                            {{ row['name'] or row['employee_name'] or row['borrower_name'] or '—' }}
                        </td>
                        <td>
                            {{ row['dl_number'] or row['passport_number'] or row['customer_no'] or row['ein'] or '—' }}
                        </td>
                        <td>{{ row['created_at'] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <div class="empty-state big">
            <p>No records yet.</p>
            <p>Upload some documents first to populate your history.</p>
        </div>
    {% endif %}
</section>
{% endblock %}
